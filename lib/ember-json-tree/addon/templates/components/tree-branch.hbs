<NestableDraggableObject
  @content={{this}}
  @isDraggable={{model.draggable}}
  @dragStartAction={{action 'dragStart'}}
>
  <DraggableObjectTarget
    @action={{handleDrop}}
    @model={{model}}
    @validateDragEvent={{validateDragEvent}}
    @validateDrag={{validateDrag}}
    @dragged={{tree.dragged}}
  >
    {{tree-leaf
      model=model
      inTree=true
      select=select
      selected=selected
      hover=hover
      nodeDepth=nodeDepth
      nodePath=nodePath
      disableCheck=disableCheck
      labelComponent=labelComponent
    }}
  </DraggableObjectTarget>

  {{#if model.isExpanded}}
    {{tree-view
      model=model.children
      select=select
      selected=selected
      sortKeys=sortKeys
      hover=hover
      parentDepth=nodeDepth
      parentPath=nodePath
      disableCheck=disableCheck
      labelComponent=labelComponent
      tree=tree
      validateDrag=tree.validateDrag
      handleDrop=tree.handleDrop
    }}
  {{/if}}
</NestableDraggableObject>