{{#if label}}
  {{#if isCollapsible}}
    <label role='button' {{action (toggle 'isExpanded' this)}}>
      {{fa-icon (if isExpanded 'caret-up' 'caret-down')}}
      {{label}}
    </label>
  {{else}}
    <label>{{label}}</label>
  {{/if}}
  {{#if showInfotip}}
    <Control::MdInfotip @text={{placeholder}} />
  {{/if}}
{{/if}}

{{#liquid-if isExpanded enableGrowth=true}}
  <div class='md-input-input'>
    <Textarea
      @value={{this.value}}
      @placeholder={{this.placeholder}}
      @required={{this.required}}
      @maxlength={{this.maxlength}}
      @autoresize={{this.autoresize}}
      @rows={{this.rows}}
      @max-rows={{this.maxrows}}
      @max-width={{this.maxwidth}}
      @max-height={{this.maxheight}}
      class={{this.inputClass}}
      @readonly={{this.readonly}}
      @disabled={{this.readonly}}
    />
    <span class='md-input-error'>
      {{#if showErrorMessage}}
        <span class='md-error'>
          {{fa-icon 'exclamation-circle'}}
          <EmberTooltip @side="right" @tooltipClass="ember-tooltip md-tooltip danger">
            {{v-get model valuePath 'message'}}
          </EmberTooltip>
        </span>
      {{/if}}

      {{#if showWarningMessage}}
        <span class='md-warning'>
          {{fa-icon 'exclamation-triangle'}}
          <EmberTooltip @side="right" @tooltipClass="ember-tooltip md-tooltip warning">
            {{v-get model valuePath 'warningMessage'}}
          </EmberTooltip>
        </span>
      {{/if}}
    </span>
  </div>
  {{yield}}
{{/liquid-if}}